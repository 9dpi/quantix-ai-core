<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Quantix AI Core</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="../static/img/favicon.png">
</head>

<body class="scrollable-page">
    <header class="app-header">
        <div class="logo-area">
            <div class="logo-icon"></div>
            <span class="logo-text">QUANTIX AI CORE</span>
        </div>
        <div class="hamburger" id="menu-toggle">‚ò∞</div>
        <nav class="main-nav" id="main-nav">
            <a href="../" class="nav-link">Overview</a>
            <a href="../dashboard/" class="nav-link active">Live System</a>
            <a href="../signals/" class="nav-link">Market Reference</a>
            <a href="../lab/" class="nav-link">Quantix Lab</a>
            <a href="../api/" class="nav-link">API</a>
            <a href="../disclaimer/" class="nav-link">Legal</a>
        </nav>
        <div class="status-tag hide-mobile"
            style="width: 240px; display: flex; justify-content: flex-end; font-size: 0.7rem; color: var(--text-dim); align-items: center; gap: 8px;">
            <div class="dot dot-online"></div> SYSTEM_OF_RECORD
        </div>
    </header>

    <main class="app-layout">
        <!-- LEFT: SYSTEM TOPOLOGY & RULES -->
        <aside class="column left-col">
            <div style="margin-bottom: 32px; border-bottom: 1px solid var(--border); padding-bottom: 24px;">
                <h1 style="font-size: 1.25rem; font-weight: 800; color: var(--accent); margin-bottom: 12px;">SYSTEM_CORE
                    v1.4</h1>
                <div style="font-size: 0.75rem; color: var(--text-dim); line-height: 1.6;">
                    Quantix AI Core operates as a <strong>Deterministic State Resolver</strong>.
                    It continuously monitors global liquidity flows through the Dukascopy feed
                    to determine the current <strong>Structural Regime</strong>.
                </div>
            </div>

            <h2 class="section-title">‚öñÔ∏è GOVERNANCE</h2>
            <div class="constitution-box" style="margin-top: 0; background: rgba(56, 189, 248, 0.05);">
                <div
                    style="font-size: 0.65rem; color: var(--accent); margin-bottom: 12px; font-weight: 800; letter-spacing: 0.1em;">
                    CLEAN FEED PROTOCOL</div>
                <ul class="constitution-list">
                    <li>Source: <span style="color: #fff;">Dukascopy (Direct)</span></li>
                    <li>Precision: <span style="color: #fff;">Tick-Level (Binary)</span></li>
                    <li>Timezone: <span style="color: #fff;">UTC Internal</span></li>
                    <li>Validation: <span style="color: #fff;">Strict OHLC Integrity</span></li>
                </ul>
            </div>

            <h2 class="section-title" style="margin-top: 32px;">üìä LIVE TELEMETRY</h2>
            <div style="display: flex; flex-direction: column; gap: 12px;">
                <div style="display: flex; justify-content: space-between; font-size: 0.75rem;">
                    <span style="color: var(--text-dim);">Dukascopy Feed</span>
                    <span style="color: var(--highlight); font-weight: 700;">CONNECTED</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.75rem;">
                    <span style="color: var(--text-dim);">Last Trace ID</span>
                    <span id="trace-id-sidebar"
                        style="font-family: 'JetBrains Mono', monospace; color: var(--accent);">api-a7fd29</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.75rem;">
                    <span style="color: var(--text-dim);">Storage State</span>
                    <span style="color: var(--text-main);">OPTIMIZED</span>
                </div>
            </div>

            <a href="../reasoning/" class="spec-link" style="margin-top: 32px; border: 1px solid var(--accent);">
                Open Reasoning Panel ‚Üí
            </a>
        </aside>

        <!-- MIDDLE: REAL-TIME REASONING (The Showcase) -->
        <section class="column middle-col" style="background: var(--bg-main);">
            <div class="intelligence-node">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h2 class="section-title" style="margin:0;">üìä LIVE STATE REASONING</h2>
                    <span
                        style="font-size: 0.65rem; color: var(--text-dim); border: 1px solid var(--border); padding: 4px 8px; border-radius: 4px;">REFRESH:
                        60S</span>
                </div>

                <div class="snapshot-card"
                    style="background: var(--bg-sub); border: 1px solid var(--border); box-shadow: 0 8px 32px rgba(0,0,0,0.4);">
                    <div
                        style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px;">
                        <div>
                            <div style="font-size: 1.8rem; font-weight: 800; letter-spacing: -0.02em;">EUR/USD <span
                                    style="font-weight: 400; color: var(--text-dim); font-size: 1rem;">H4_OPTIMIZED</span>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div id="core-state" style="font-size: 1.4rem; font-weight: 800; color: var(--highlight);">
                                BULLISH</div>
                        </div>
                    </div>
                    <div class="snapshot-grid">
                        <div class="snapshot-item">
                            <div class="snapshot-label">Engine Confidence</div>
                            <div id="core-confidence" class="snapshot-value">78.4%</div>
                        </div>
                        <div class="snapshot-item">
                            <div class="snapshot-label">Regime Dominance</div>
                            <div id="core-dominance" class="snapshot-value">0.72</div>
                        </div>
                    </div>
                </div>

                <div class="visual-container" style="margin-top: 48px;">
                    <div class="section-title">üõ†Ô∏è PIPELINE FLOW</div>
                    <div
                        style="display: flex; align-items: center; gap: 12px; width: 100%; justify-content: center; background: rgba(0,0,0,0.1); padding: 24px; border-radius: 12px; border: 1px solid var(--border);">
                        <div class="pipeline-step" style="font-size: 0.65rem;">RAW_TICKS</div>
                        <div class="pipeline-arrow">‚Üí</div>
                        <div class="pipeline-step active" style="font-size: 0.65rem;">DUKASCOPY_FETCH</div>
                        <div class="pipeline-arrow">‚Üí</div>
                        <div class="pipeline-step" style="font-size: 0.65rem;">STRUCT_ENGINE</div>
                        <div class="pipeline-arrow">‚Üí</div>
                        <div class="pipeline-step active"
                            style="font-size: 0.65rem; border-color: var(--highlight); color: var(--highlight);">
                            STATE_RESOLVED</div>
                    </div>
                </div>

                <div
                    style="margin-top: 32px; font-size: 0.7rem; color: var(--text-dim); line-height: 1.6; padding: 16px; border-left: 2px solid var(--accent); background: rgba(56, 189, 248, 0.02);">
                    <strong>NOTICE:</strong> This dashboard displays the live output of the Quantix AI Core. It does not
                    provide trade executions or financial advice. All data is fetched from the Dukascopy binary datafeed
                    with an estimated latency of 5-10 minutes.
                </div>
            </div>
        </section>

        <!-- RIGHT: INFRASTRUCTURE & LIVE STATUS (Merged /status) -->
        <aside class="column right-col">
            <h2 class="section-title">üõë KILL SWITCH STATUS</h2>
            <div class="status-grid-compact" style="margin-bottom: 32px;">
                <div class="status-card-compact" style="border: 1px solid rgba(239, 68, 68, 0.2);">
                    <span class="status-label-compact">Lab Signals</span>
                    <div class="status-indicator-compact" style="color: #ef4444;">
                        DISABLED
                    </div>
                </div>
            </div>

            <h2 class="section-title">üõ∞Ô∏è INFRASTRUCTURE HEALTH</h2>
            <div class="status-grid-compact">
                <div class="status-card-compact">
                    <span class="status-label-compact">Data Ingestion</span>
                    <div class="status-indicator-compact" style="color: var(--highlight);">
                        <div class="pulse-small"></div> OPERATIONAL
                    </div>
                </div>
                <div class="status-card-compact">
                    <span class="status-label-compact">Reasoning Engine</span>
                    <div class="status-indicator-compact" style="color: var(--highlight);">
                        <div class="pulse-small"></div> OPERATIONAL
                    </div>
                </div>
                <div class="status-card-compact">
                    <span class="status-label-compact">API Gateway</span>
                    <div class="status-indicator-compact" style="color: var(--highlight);">
                        <div class="pulse-small"></div> OPERATIONAL
                    </div>
                </div>
                <div class="status-card-compact">
                    <span class="status-label-compact">Database Node</span>
                    <div class="status-indicator-compact" style="color: var(--highlight);">
                        <div class="pulse-small"></div> OPERATIONAL
                    </div>
                </div>
            </div>

            <div
                style="margin-top: 16px; padding: 12px; background: rgba(0,0,0,0.2); border-radius: 8px; border: 1px solid var(--border);">
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.65rem;">
                    <span style="color: var(--text-dim);">UPTIME (30D)</span>
                    <span style="color: #fff; font-weight: 700;">99.98%</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.65rem;">
                    <span style="color: var(--text-dim);">HEARTBEAT</span>
                    <span style="color: var(--highlight); font-weight: 700;">42ms</span>
                </div>
            </div>

            <h2 class="section-title" style="margin-top: 32px;">üöÄ DEPLOYMENT</h2>
            <div class="snapshot-card" style="padding: 16px; border-style: dashed; background: transparent;">
                <div
                    style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-family: 'JetBrains Mono', monospace; font-size: 0.7rem;">
                    <span style="color: var(--text-dim);">PROV:</span>
                    <span
                        style="background: #0b0d0e; padding: 2px 6px; border-radius: 4px; color: var(--accent);">RAILWAY.APP</span>
                </div>
                <div
                    style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-family: 'JetBrains Mono', monospace; font-size: 0.7rem;">
                    <span style="color: var(--text-dim);">BUILD:</span>
                    <code style="color: var(--text-main);">10fafdc-prod</code>
                </div>
                <div style="font-size: 0.65rem; color: var(--text-dim); line-height: 1.4;">
                    Auto-rebuild on <code>main</code> branch push. Environment: <code>production-asia-se</code>
                </div>
            </div>

            <h2 class="section-title" style="margin-top: 32px;">üß™ CORE CAPABILITIES</h2>
            <div style="display: flex; flex-direction: column; gap: 8px;">
                <div
                    style="padding: 10px; background: rgba(255,255,255,0.03); border-radius: 6px; font-size: 0.75rem; display: flex; justify-content: space-between;">
                    <span style="color: var(--text-dim);">Structure Logic</span>
                    <span style="color: var(--highlight);">v1.4 (Active)</span>
                </div>
                <div
                    style="padding: 10px; background: rgba(255,255,255,0.03); border-radius: 6px; font-size: 0.75rem; display: flex; justify-content: space-between;">
                    <span style="color: var(--text-dim);">Supported Assets</span>
                    <span style="color: var(--text-main);">7 FX Majors</span>
                </div>
                <div
                    style="padding: 10px; background: rgba(255,255,255,0.03); border-radius: 6px; font-size: 0.75rem; display: flex; justify-content: space-between;">
                    <span style="color: var(--text-dim);">Timeframes</span>
                    <span style="color: var(--text-main);">H1, H4, D1</span>
                </div>
            </div>
        </aside>
    </main>

    <footer class="app-footer">
        <div class="disclaimer"><strong>LEGAL SHIELD:</strong> Institutional-grade analysis. No financial advice.</div>
    </footer>

    <script src="../static/js/api.js"></script>
    <script src="../static/js/ui_shared.js"></script>
    <script src="../static/js/dashboard.js"></script>
</body>

</html>