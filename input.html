<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Quantix AI Core - Data Ingestion Portal">
    <title>Quantix AI Core | Ingestion Gateway</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">Q</div>
                <span>QUANTIX<span class="logo-core">AI</span></span>
            </div>

            <nav class="nav-links">
                <a href="index.html" class="nav-item">
                    <span class="icon">üìä</span>
                    <span>Dashboard</span>
                </a>
                <a href="input.html" class="nav-item active">
                    <span class="icon">üì•</span>
                    <span>Data Ingestion</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="icon">üéØ</span>
                    <span>Strategy Lab</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="icon">üß™</span>
                    <span>Backtest Hub</span>
                </a>
            </nav>

            <div class="pill animate-pulse"
                style="margin-top: 20px; background: rgba(0, 242, 255, 0.1); border: 1px solid var(--accent); color: var(--accent);">
                <span>INTERNAL_ALPHA_ENGINE</span>
            </div>
            <div style="margin-top: 15px; font-size: 0.75rem; color: var(--text-secondary); line-height: 1.4;">
                Institutional Data Gateway. Professional Use Only.
            </div>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <header class="top-header animate-fade-in">
                <div>
                    <h1>Data Ingestion Gateway</h1>
                    <p style="color: var(--text-secondary);">3-Tier pipeline for high-fidelity market data processing.
                    </p>
                </div>
            </header>

            <div class="upload-container animate-fade-in" style="animation-delay: 0.1s;">
                <div class="card">
                    <form id="upload-form">
                        <div class="form-row">
                            <div class="input-group">
                                <label>Asset / Symbol</label>
                                <input type="text" id="asset" value="EURUSD" placeholder="e.g. BTCUSD, GOLD">
                            </div>
                            <div class="input-group">
                                <label>Timeframe</label>
                                <select id="timeframe">
                                    <option value="M1">M1 (Scalper)</option>
                                    <option value="M5">M5 (Intraday)</option>
                                    <option value="M15" selected>M15 (Standard)</option>
                                    <option value="H1">H1 (Swing)</option>
                                    <option value="H4">H4 (Strategic)</option>
                                    <option value="D1">D1 (Macro)</option>
                                </select>
                            </div>
                        </div>

                        <div id="drop-zone" class="drop-zone">
                            <div style="font-size: 3.5rem; filter: drop-shadow(0 0 10px rgba(0,242,255,0.3));">üìÑ</div>
                            <h3 style="margin-bottom: 0;">Drag & Drop CSV Dataset</h3>
                            <p style="color: var(--text-secondary);">Supports standard OHLCV columns (timestamp, open,
                                high, low, close, volume)</p>
                            <input type="file" id="csv-file" style="display: none" accept=".csv">
                        </div>

                        <div style="margin-top: 30px;">
                            <button type="submit" class="btn-primary" id="upload-btn">Initialize Ingestion
                                Sequence</button>
                        </div>
                    </form>

                    <!-- Feedback Containers -->
                    <div id="result-box" class="card"
                        style="display: none; margin-top: 30px; background: rgba(0, 255, 163, 0.05); border-color: rgba(0, 255, 163, 0.2);">
                        <h3 style="color: #00ffa3;">‚ö° Sequence Optimized & Stored</h3>
                        <div class="dashboard-grid" style="grid-template-columns: repeat(3, 1fr); margin-top: 20px;">
                            <div class="stat-mini">
                                <small style="color: var(--text-secondary);">RAW PROCESSED</small>
                                <div id="total-rows" style="font-size: 1.5rem; font-weight: 700;">-</div>
                            </div>
                            <div class="stat-mini">
                                <small style="color: var(--text-secondary);">TRADABLE</small>
                                <div id="tradable-rows" style="font-size: 1.5rem; font-weight: 700;">-</div>
                            </div>
                            <div class="stat-mini">
                                <small style="color: var(--text-secondary);">ALPHA WT.</small>
                                <div id="avg-weight" style="font-size: 1.5rem; font-weight: 700;">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Error Box -->
                    <div id="error-box" class="card"
                        style="display: none; margin-top: 30px; background: rgba(255, 0, 92, 0.05); border-color: rgba(255, 0, 92, 0.2);">
                        <h3 style="color: #ff005c;">‚ùå Ingestion Failed</h3>
                        <p id="error-message" style="color: var(--text-secondary); margin-top: 15px;"></p>
                    </div>
                </div>
            </div>

            <!-- Ingestion Log -->
            <section class="card animate-fade-in" style="margin-top: 40px; animation-delay: 0.2s;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                    <h2>Recent Network Activity</h2>
                    <div class="pill">PIPELINE AUDIT</div>
                </div>
                <div id="audit-log-container">
                    <p style="color: var(--text-secondary);">Connecting to ingestion node...</p>
                </div>
            </section>
        </main>
    </div>

    <script type="module" src="static/js/ingestion.js"></script>
</body>

</html>